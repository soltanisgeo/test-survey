<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survey and Download</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        #message, #surveyPrompt, #emailPrompt {
            display: none;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Download Your File</h1>
    <a href="https://github.com/eurotsunamirisk/etris_data_and_data_products/tree/main/etris_data_products/Fragility_Curves" 
       id="downloadLink" 
       target="_blank">Download Fragility Curves</a>
    <p id="message">Thank you for downloading!</p>
    <div id="surveyPrompt">
        <p>Do you want to take a 1-minute survey?</p>
        <button id="yesSurvey">Yes</button>
        <button id="noSurvey">No</button>
    </div>
    <div id="emailPrompt">
        <p>Would you like to receive the survey by email?</p>
        <form id="emailForm">
            <label for="email">Your Email:</label>
            <input type="email" id="email" name="email" required>
            <button type="submit">Send Survey</button>
        </form>
        <p><a href="#" id="noParticipation">I don't want to participate</a></p>
    </div>

    <script>
        const downloadLink = document.getElementById('downloadLink');
        const message = document.getElementById('message');
        const surveyPrompt = document.getElementById('surveyPrompt');
        const emailPrompt = document.getElementById('emailPrompt');
        const yesSurvey = document.getElementById('yesSurvey');
        const noSurvey = document.getElementById('noSurvey');
        const emailForm = document.getElementById('emailForm');
        const noParticipation = document.getElementById('noParticipation');

        // Handle download link click
        downloadLink.addEventListener('click', () => {
            message.style.display = 'block';
            surveyPrompt.style.display = 'block';
        });

        // Handle Yes to survey
        yesSurvey.addEventListener('click', () => {
            window.open('https://your-google-survey-link', '_blank');
            surveyPrompt.style.display = 'none';
        });

        // Handle No to survey
        noSurvey.addEventListener('click', () => {
            surveyPrompt.style.display = 'none';
            emailPrompt.style.display = 'block';
        });

        // Handle email form submission
        emailForm.addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Survey sent to ' + document.getElementById('email').value);
            emailPrompt.style.display = 'none';
        });

        // Handle no participation
        noParticipation.addEventListener('click', () => {
            alert('Thank you for visiting!');
            emailPrompt.style.display = 'none';
        });
    </script>
</body>
</html>
